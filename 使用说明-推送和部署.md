# æ¨é€ä»£ç å’Œéƒ¨ç½²ä½¿ç”¨è¯´æ˜

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æœ€ç®€å•çš„æ–¹å¼ï¼ˆæ¨èï¼‰

æ¯æ¬¡ä¿®æ”¹ä»£ç åï¼Œåªéœ€æ‰§è¡Œï¼š

```powershell
.\scripts\å¿«é€Ÿéƒ¨ç½².ps1 "ä½ çš„æäº¤ä¿¡æ¯"
```

ä¾‹å¦‚ï¼š
```powershell
.\scripts\å¿«é€Ÿéƒ¨ç½².ps1 "ä¿®å¤CollabGlow APIç«¯ç‚¹é—®é¢˜"
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
1. âœ… è‡ªåŠ¨æ¨é€ä»£ç åˆ°GitHub
2. âœ… æ˜¾ç¤ºå®Œæ•´çš„åç«¯éƒ¨ç½²æŒ‡ä»¤
3. âœ… è‡ªåŠ¨å¤åˆ¶éƒ¨ç½²æŒ‡ä»¤åˆ°å‰ªè´´æ¿

ç„¶åä½ åªéœ€è¦ï¼š
1. å¤åˆ¶æ˜¾ç¤ºçš„éƒ¨ç½²æŒ‡ä»¤
2. åœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨ç»ˆç«¯ç²˜è´´æ‰§è¡Œ
3. å®Œæˆï¼

---

## ğŸ“‹ å®Œæ•´å·¥ä½œæµç¨‹

### æ­¥éª¤1: æœ¬åœ°æ¨é€ä»£ç 

**æ–¹å¼A: ä½¿ç”¨å¿«é€Ÿéƒ¨ç½²è„šæœ¬ï¼ˆæ¨èï¼‰**
```powershell
.\scripts\å¿«é€Ÿéƒ¨ç½².ps1 "ä¿®å¤CollabGlow APIé—®é¢˜"
```

**æ–¹å¼B: ä½¿ç”¨æ¨é€è„šæœ¬**
```powershell
.\scripts\push_to_github.ps1 "ä¿®å¤CollabGlow APIé—®é¢˜"
```

**æ–¹å¼C: æ‰‹åŠ¨æ¨é€**
```bash
git add .
git commit -m "ä¿®å¤CollabGlow APIé—®é¢˜"
git push origin main
```

### æ­¥éª¤2: åœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨éƒ¨ç½²

**å®Œæ•´éƒ¨ç½²æŒ‡ä»¤ï¼ˆä¸€æ¬¡æ€§å¤åˆ¶ç²˜è´´ï¼‰ï¼š**

```bash
cd ~/Google-Data-Analysis && git pull origin main && cd backend && source venv/bin/activate && pip install -q --upgrade pip && pip install -q -r requirements.txt && pkill -f 'uvicorn.*app.main' && sleep 2 && nohup uvicorn app.main:app --host 0.0.0.0 --port 8000 > run.log 2>&1 & sleep 3 && curl -s http://127.0.0.1:8000/health && echo "" && echo "âœ“ éƒ¨ç½²å®Œæˆ" && tail -n 5 run.log
```

**æˆ–ä½¿ç”¨éƒ¨ç½²è„šæœ¬ï¼ˆæ¨èï¼Œæ›´å®‰å…¨ï¼‰ï¼š**

```bash
cd ~/Google-Data-Analysis/backend && bash scripts/deploy_backend.sh
```

---

## ğŸ“ è„šæœ¬æ–‡ä»¶è¯´æ˜

### æœ¬åœ°è„šæœ¬ï¼ˆWindowsï¼‰

| æ–‡ä»¶ | åŠŸèƒ½ | ä½¿ç”¨æ–¹æ³• |
|------|------|----------|
| `scripts/å¿«é€Ÿéƒ¨ç½².ps1` | ä¸€é”®æ¨é€+æ˜¾ç¤ºéƒ¨ç½²æŒ‡ä»¤ | `.\scripts\å¿«é€Ÿéƒ¨ç½².ps1 "æäº¤ä¿¡æ¯"` |
| `scripts/push_to_github.ps1` | æ¨é€ä»£ç åˆ°GitHub | `.\scripts\push_to_github.ps1 "æäº¤ä¿¡æ¯"` |
| `scripts/push_to_github.bat` | æ¨é€ä»£ç ï¼ˆæ‰¹å¤„ç†ç‰ˆï¼‰ | `scripts\push_to_github.bat "æäº¤ä¿¡æ¯"` |

### æœåŠ¡å™¨è„šæœ¬ï¼ˆLinuxï¼‰

| æ–‡ä»¶ | åŠŸèƒ½ | ä½¿ç”¨æ–¹æ³• |
|------|------|----------|
| `backend/scripts/deploy_backend.sh` | å®Œæ•´éƒ¨ç½²è„šæœ¬ | `bash scripts/deploy_backend.sh` |
| `backend/scripts/restart_backend.sh` | é‡å¯æœåŠ¡å™¨ | `bash scripts/restart_backend.sh` |

---

## ğŸ”§ å¸¸ç”¨æ“ä½œ

### æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€

```bash
# æ£€æŸ¥è¿›ç¨‹
ps aux | grep uvicorn

# æ£€æŸ¥ç«¯å£
lsof -i:8000

# å¥åº·æ£€æŸ¥
curl http://127.0.0.1:8000/health
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# å®æ—¶æŸ¥çœ‹
tail -f ~/Google-Data-Analysis/backend/run.log

# æŸ¥çœ‹æœ€è¿‘50è¡Œ
tail -n 50 ~/Google-Data-Analysis/backend/run.log
```

### é‡å¯æœåŠ¡å™¨

```bash
cd ~/Google-Data-Analysis/backend && bash scripts/restart_backend.sh
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡ä½¿ç”¨å‰**ï¼šç¡®ä¿Gitå·²é…ç½®
   ```bash
   git config --global user.name "ä½ çš„åå­—"
   git config --global user.email "ä½ çš„é‚®ç®±"
   ```

2. **PowerShellæ‰§è¡Œç­–ç•¥**ï¼šå¦‚æœè„šæœ¬æ— æ³•æ‰§è¡Œ
   ```powershell
   Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
   ```

3. **æœåŠ¡å™¨è·¯å¾„**ï¼šç¡®ä¿æœåŠ¡å™¨ä¸Šçš„é¡¹ç›®è·¯å¾„æ˜¯ `~/Google-Data-Analysis`

4. **è™šæ‹Ÿç¯å¢ƒ**ï¼šç¡®ä¿æœåŠ¡å™¨ä¸Šå·²åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
   ```bash
   cd ~/Google-Data-Analysis/backend
   python3 -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   ```

---

## ğŸ› æ•…éšœæ’æŸ¥

### æ¨é€å¤±è´¥

1. æ£€æŸ¥Gité…ç½®
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. æ£€æŸ¥æ˜¯å¦æœ‰æœªæäº¤çš„æ›´æ”¹

### éƒ¨ç½²å¤±è´¥

1. **æ£€æŸ¥ä»£ç æ˜¯å¦æ‹‰å–æˆåŠŸ**
   ```bash
   cd ~/Google-Data-Analysis
   git status
   git pull origin main
   ```

2. **æ£€æŸ¥è™šæ‹Ÿç¯å¢ƒ**
   ```bash
   cd ~/Google-Data-Analysis/backend
   source venv/bin/activate
   python --version
   ```

3. **æ£€æŸ¥ç«¯å£å ç”¨**
   ```bash
   lsof -i:8000
   # å¦‚æœè¢«å ç”¨
   lsof -ti:8000 | xargs kill -9
   ```

4. **æŸ¥çœ‹è¯¦ç»†æ—¥å¿—**
   ```bash
   tail -n 100 ~/Google-Data-Analysis/backend/run.log
   tail -n 100 ~/Google-Data-Analysis/backend/logs/error.log
   ```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [éƒ¨ç½²æŒ‡ä»¤.md](./éƒ¨ç½²æŒ‡ä»¤.md) - è¯¦ç»†çš„éƒ¨ç½²æŒ‡ä»¤æ–‡æ¡£
- [scripts/README.md](./scripts/README.md) - è„šæœ¬ä½¿ç”¨è¯´æ˜

---

## ğŸ’¡ æç¤º

- ä½¿ç”¨ `å¿«é€Ÿéƒ¨ç½².ps1` è„šæœ¬å¯ä»¥è‡ªåŠ¨å¤åˆ¶éƒ¨ç½²æŒ‡ä»¤åˆ°å‰ªè´´æ¿
- éƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€å¹¶æ˜¾ç¤ºç»“æœ
- å»ºè®®ä½¿ç”¨éƒ¨ç½²è„šæœ¬è€Œä¸æ˜¯ç›´æ¥æ‰§è¡Œå‘½ä»¤ï¼Œæ›´å®‰å…¨å¯é 

