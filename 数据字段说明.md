# 数据字段来源说明

## 一、数据来源总览

### 表1（谷歌广告中心数据）
从表1中提取以下字段：
- ⭐ **点击（Clicks）** - 广告点击次数
- **CPC** - 每次点击成本（Cost Per Click）
- **日期** - 数据日期
- **广告ID** - 广告标识符
- 其他相关字段（关键词、广告组等）

### 表2（联盟平台数据）
从表2中提取以下字段：
- ⭐ **订单数** - 订单数量
- **保守佣金** - 联盟平台产生的佣金收入
- **日期** - 数据日期
- **广告ID** - 广告标识符
- 其他相关字段（订单ID、商品信息等）

## 二、字段提取说明

### 2.1 点击（从表1提取）
- **来源**: 表1（谷歌广告中心数据）
- **字段名可能为**: 点击、Clicks、clicks、点击数
- **用途**: 
  - 用于计算保守EPC：保守EPC = 保守佣金 / 点击
  - 在表3中展示

### 2.2 订单数（从表2提取）
- **来源**: 表2（联盟平台数据）
- **字段名可能为**: 订单数、Orders、orders、订单、订单数量
- **用途**: 
  - 在表3中展示
  - 用于分析转化效果

### 2.3 其他字段
- **CPC**: 来自表1，用于计算保守ROI
- **保守佣金**: 来自表2，用于计算保守EPC
- **日期**: 来自表1和表2，用于数据匹配
- **广告ID**: 来自表1和表2，用于数据匹配

## 三、数据匹配流程

```
表1（谷歌广告）
├─ 提取：点击 ⭐
├─ 提取：CPC
└─ 提取：日期、广告ID（用于匹配）
    ↓
    数据匹配（按日期、广告ID）
    ↓
表2（联盟数据）
├─ 提取：订单数 ⭐
├─ 提取：保守佣金
└─ 提取：日期、广告ID（用于匹配）
    ↓
合并后的数据
├─ 点击（来自表1）⭐
├─ 订单数（来自表2）⭐
├─ CPC（来自表1）
├─ 保守佣金（来自表2）
├─ 保守EPC（计算得出）
└─ 保守ROI（计算得出）
```

## 四、表3（分析结果）包含的字段

表3应该包含以下字段：

### 4.1 匹配字段
- 日期
- 广告ID
- 其他匹配键

### 4.2 从表1提取的字段
- ⭐ **点击** - 从表1提取

### 4.3 从表2提取的字段
- ⭐ **订单数** - 从表2提取
- **保守佣金** - 从表2提取

### 4.4 从表1提取的其他字段
- **CPC** - 每次点击成本

### 4.5 计算得出的字段
- **保守EPC** = 保守佣金 / 点击
- **保守ROI** = (保守EPC - CPC) / CPC × 100%

## 五、代码中的字段识别

### 5.1 表1字段识别
代码会自动识别以下可能的字段名：
```python
# 点击字段
['点击', 'Clicks', 'clicks', '点击数']

# CPC字段
['CPC', 'cpc', '每次点击成本', '点击成本']
```

### 5.2 表2字段识别
代码会自动识别以下可能的字段名：
```python
# 订单数字段
['订单数', 'Orders', 'orders', '订单', '订单数量']

# 保守佣金字段
['保守佣金', 'Commission', 'commission', '佣金']
```

## 六、注意事项

1. **字段名匹配**: 如果实际表格的字段名与上述不同，需要在代码中调整字段名映射
2. **数据完整性**: 确保表1包含"点击"字段，表2包含"订单数"字段
3. **数据匹配**: 确保表1和表2都有相同的匹配键（如日期、广告ID）
4. **数据验证**: 上传数据时会验证必要字段是否存在

## 七、示例数据结构

### 表1示例（谷歌广告数据）
| 日期 | 广告ID | 点击 | CPC |
|------|--------|------|-----|
| 2026-01-20 | AD001 | 500 | 1.5 |
| 2026-01-21 | AD002 | 300 | 2.0 |

### 表2示例（联盟数据）
| 日期 | 广告ID | 订单数 | 保守佣金 |
|------|--------|--------|----------|
| 2026-01-20 | AD001 | 10 | 1000 |
| 2026-01-21 | AD002 | 5 | 800 |

### 表3示例（分析结果）
| 日期 | 广告ID | 点击（表1） | 订单数（表2） | CPC | 保守佣金 | 保守EPC | 保守ROI |
|------|--------|-------------|---------------|-----|----------|---------|---------|
| 2026-01-20 | AD001 | 500 | 10 | 1.5 | 1000 | 2.0 | 33.33% |
| 2026-01-21 | AD002 | 300 | 5 | 2.0 | 800 | 2.67 | 33.5% |












