# Railway.app ä¸€é”®éƒ¨ç½²æŒ‡å— ğŸš‚

## ğŸ¯ æœ€ç®€å•çš„éƒ¨ç½²æ–¹å¼ï¼

Railway.app æ˜¯æœ€é€‚åˆæœ¬é¡¹ç›®çš„éƒ¨ç½²å¹³å°ï¼Œæ”¯æŒï¼š
- âœ… **SQLite æŒä¹…åŒ–å­˜å‚¨**ï¼ˆè‡ªåŠ¨æŒ‚è½½ Volumeï¼‰
- âœ… **è‡ªåŠ¨ HTTPS** åŸŸå
- âœ… **ä» GitHub è‡ªåŠ¨éƒ¨ç½²**
- âœ… **å…è´¹é¢åº¦å……è¶³**ï¼ˆ500å°æ—¶/æœˆï¼Œçº¦ï¿¥5åˆ€ä¿¡ç”¨é¢åº¦ï¼‰
- âœ… **é›¶é…ç½®ï¼Œä¸€é”®éƒ¨ç½²**

---

## ğŸ“‹ éƒ¨ç½²æ­¥éª¤ï¼ˆ5åˆ†é’Ÿæå®šï¼‰

### æ­¥éª¤ 1: æ³¨å†Œ Railway è´¦å·

1. è®¿é—®ï¼šhttps://railway.app
2. ç‚¹å‡» **"Start a New Project"**
3. ä½¿ç”¨ **GitHub è´¦å·ç™»å½•**ï¼ˆæ¨èï¼‰

### æ­¥éª¤ 2: ä» GitHub éƒ¨ç½²

1. åœ¨ Railway æ§åˆ¶å°ç‚¹å‡» **"New Project"**
2. é€‰æ‹© **"Deploy from GitHub repo"**
3. æˆæƒ Railway è®¿é—®ä½ çš„ GitHub
4. é€‰æ‹©ä»“åº“ï¼š**`daphnelxqyp/affiliate-marketing-saas`**
5. Railway ä¼šè‡ªåŠ¨æ£€æµ‹åˆ° Node.js é¡¹ç›®å¹¶å¼€å§‹éƒ¨ç½²

### æ­¥éª¤ 3: é…ç½®ç¯å¢ƒå˜é‡

åœ¨ Railway é¡¹ç›®é¡µé¢ï¼š

1. ç‚¹å‡» **Variables** æ ‡ç­¾
2. æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```bash
# å¿…å¡«ç¯å¢ƒå˜é‡
NODE_ENV=production
PORT=3000

# JWTå¯†é’¥ï¼ˆå¿…é¡»ä¿®æ”¹ï¼ï¼‰
# ç”Ÿæˆæ–¹æ³•: åœ¨æœ¬åœ°è¿è¡Œ node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=ä½ ç”Ÿæˆçš„64å­—ç¬¦éšæœºå­—ç¬¦ä¸²

# åŠ å¯†å¯†é’¥ï¼ˆå¿…é¡»ä¿®æ”¹ï¼ï¼‰
# ç”Ÿæˆæ–¹æ³•: node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
ENCRYPTION_KEY=ä½ ç”Ÿæˆçš„32å­—ç¬¦éšæœºå­—ç¬¦ä¸²
```

**âš ï¸ é‡è¦**: `JWT_SECRET` å’Œ `ENCRYPTION_KEY` å¿…é¡»ä¿®æ”¹ä¸ºéšæœºç”Ÿæˆçš„å€¼ï¼

### æ­¥éª¤ 4: æ·»åŠ æŒä¹…åŒ–å­˜å‚¨ï¼ˆSQLiteï¼‰

1. åœ¨é¡¹ç›®é¡µé¢ç‚¹å‡» **Settings**
2. æ‰¾åˆ° **Volumes** éƒ¨åˆ†
3. ç‚¹å‡» **"Add Volume"**
4. é…ç½®ï¼š
   - **Mount Path**: `/app/data`
   - **Size**: 1GBï¼ˆå…è´¹ç‰ˆè¶³å¤Ÿï¼‰
5. ç‚¹å‡» **"Add"**

**æ³¨æ„**: éœ€è¦ä¿®æ”¹ `db.js` ä¸­çš„æ•°æ®åº“è·¯å¾„ä¸º `/app/data/data.db`

### æ­¥éª¤ 5: è·å–éƒ¨ç½²åŸŸå

1. éƒ¨ç½²æˆåŠŸåï¼ŒRailway ä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªåŸŸåï¼Œå¦‚ï¼š
   ```
   https://your-app.up.railway.app
   ```

2. ï¼ˆå¯é€‰ï¼‰ç»‘å®šè‡ªå®šä¹‰åŸŸåï¼š
   - ç‚¹å‡» **Settings** â†’ **Domains**
   - ç‚¹å‡» **"Generate Domain"** æˆ– **"Custom Domain"**

---

## ğŸ”§ æœ¬åœ°ç”Ÿæˆå¯†é’¥

åœ¨æœ¬åœ°ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆå¯†é’¥ï¼š

```bash
# ç”Ÿæˆ JWT_SECRET
node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# ç”Ÿæˆ ENCRYPTION_KEY
node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
```

å°†ç”Ÿæˆçš„å€¼å¤åˆ¶åˆ° Railway çš„ç¯å¢ƒå˜é‡ä¸­ã€‚

---

## ğŸ“Š æŸ¥çœ‹æ—¥å¿—å’Œç›‘æ§

- **å®æ—¶æ—¥å¿—**: åœ¨ Railway é¡¹ç›®é¡µé¢ç‚¹å‡» **Deployments** â†’ ç‚¹å‡»æœ€æ–°éƒ¨ç½² â†’ æŸ¥çœ‹æ—¥å¿—
- **æ€§èƒ½ç›‘æ§**: åœ¨ **Metrics** æ ‡ç­¾æŸ¥çœ‹ CPUã€å†…å­˜ã€ç½‘ç»œä½¿ç”¨æƒ…å†µ
- **é‡å¯æœåŠ¡**: ç‚¹å‡» **Deployments** â†’ **Redeploy**

---

## ğŸ”„ è‡ªåŠ¨éƒ¨ç½²æ›´æ–°

Railway ä¼šè‡ªåŠ¨ç›‘å¬ä½ çš„ GitHub ä»“åº“ï¼š

1. æ¯æ¬¡ `git push` åˆ° `main` åˆ†æ”¯
2. Railway è‡ªåŠ¨è§¦å‘é‡æ–°éƒ¨ç½²
3. æ— éœ€æ‰‹åŠ¨æ“ä½œï¼Œå…¨è‡ªåŠ¨ï¼

---

## ğŸ’° è´¹ç”¨è¯´æ˜

**å…è´¹é¢åº¦**:
- 500 å°æ—¶/æœˆè¿è¡Œæ—¶é—´
- $5 ä¿¡ç”¨é¢åº¦
- 1GB å­˜å‚¨ç©ºé—´
- 100GB æµé‡/æœˆ

**è¶…å‡ºå**:
- æŒ‰ä½¿ç”¨é‡ä»˜è´¹
- çº¦ $5-20/æœˆï¼ˆå°å‹åº”ç”¨è¶³å¤Ÿï¼‰

---

## ğŸ› å¸¸è§é—®é¢˜

### 1. éƒ¨ç½²å¤±è´¥ï¼Ÿ

**æ£€æŸ¥æ—¥å¿—**:
- åœ¨ Railway æ§åˆ¶å°æŸ¥çœ‹æ„å»ºæ—¥å¿—
- ç¡®è®¤ `package.json` ä¸­çš„ `engines` å­—æ®µæ­£ç¡®

### 2. SQLite æ•°æ®ä¸¢å¤±ï¼Ÿ

**ç¡®ä¿é…ç½®äº† Volume**:
- æ£€æŸ¥ Volumes æ˜¯å¦æ­£ç¡®æŒ‚è½½åˆ° `/app/data`
- æ•°æ®åº“æ–‡ä»¶è·¯å¾„å¿…é¡»æŒ‡å‘ Volume ç›®å½•

### 3. ç¯å¢ƒå˜é‡æœªç”Ÿæ•ˆï¼Ÿ

**é‡æ–°éƒ¨ç½²**:
- ä¿®æ”¹ç¯å¢ƒå˜é‡åï¼Œç‚¹å‡» **Redeploy** é‡å¯æœåŠ¡

### 4. åŸŸåæ— æ³•è®¿é—®ï¼Ÿ

**æ£€æŸ¥éƒ¨ç½²çŠ¶æ€**:
- ç¡®è®¤éƒ¨ç½²çŠ¶æ€ä¸º **Active**
- æŸ¥çœ‹æ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯

---

## ğŸ”’ å®‰å…¨å»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†é’¥**: ä¸è¦ä½¿ç”¨ç¤ºä¾‹å¯†é’¥ï¼Œå¿…é¡»ç”Ÿæˆéšæœºå€¼
2. **å¯ç”¨ GitHub ä¿æŠ¤**: åœ¨ GitHub ä»“åº“è®¾ç½®ä¸­å¯ç”¨åˆ†æ”¯ä¿æŠ¤
3. **å®šæœŸå¤‡ä»½æ•°æ®åº“**:
   ```bash
   # åœ¨ Railway CLI ä¸­ä¸‹è½½æ•°æ®åº“
   railway run sqlite3 /app/data/data.db .dump > backup.sql
   ```

---

## ğŸ“ è·å–å¸®åŠ©

- Railway æ–‡æ¡£: https://docs.railway.app
- Railway ç¤¾åŒº: https://discord.gg/railway
- é¡¹ç›® Issues: https://github.com/daphnelxqyp/affiliate-marketing-saas/issues

---

## âœ… éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [ ] Railway è´¦å·å·²æ³¨å†Œ
- [ ] GitHub ä»“åº“å·²è¿æ¥
- [ ] ç¯å¢ƒå˜é‡å·²é…ç½®ï¼ˆJWT_SECRET, ENCRYPTION_KEYï¼‰
- [ ] Volume å·²æ·»åŠ ï¼ˆ/app/dataï¼‰
- [ ] éƒ¨ç½²çŠ¶æ€ä¸º Active
- [ ] å¯ä»¥é€šè¿‡åŸŸåè®¿é—®
- [ ] æ³¨å†Œ/ç™»å½•åŠŸèƒ½æ­£å¸¸
- [ ] æ•°æ®é‡‡é›†åŠŸèƒ½æ­£å¸¸

---

ğŸ‰ **éƒ¨ç½²å®Œæˆï¼äº«å—é›¶è¿ç»´çš„å¿«ä¹å§ï¼**
