# 启动指南

## 一、环境准备

### 1.1 后端环境
- Python 3.9+
- PostgreSQL 数据库

### 1.2 前端环境
- Node.js 16+
- npm 或 yarn

## 二、后端启动

### 2.1 安装依赖
```bash
cd backend
pip install -r requirements.txt
```

### 2.2 配置环境变量
复制 `.env.example` 为 `.env` 并修改配置：
```bash
cp .env.example .env
```

编辑 `.env` 文件，设置数据库连接等信息。

### 2.3 初始化数据库
```bash
# 创建数据库表
python scripts/init_db.py

# 初始化用户（1个经理 + 10个员工）
python scripts/init_users.py

# 初始化联盟平台
python scripts/init_platforms.py
```

### 2.4 启动后端服务
```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

后端服务将在 http://localhost:8000 启动
API文档：http://localhost:8000/docs

## 三、前端启动

### 3.1 安装依赖
```bash
cd frontend
npm install
```

### 3.2 配置环境变量（可选）
创建 `.env` 文件：
```
VITE_API_URL=http://localhost:8000
```

### 3.3 启动前端服务
```bash
npm run dev
```

前端服务将在 http://localhost:3000 启动

## 四、默认账户

- **经理账户**: 
  - 用户名: `manager`
  - 密码: `manager123`

- **员工账户**: 
  - 用户名: `employee1` 到 `employee10`
  - 密码: `employee1123` 到 `employee10123`

⚠️ **重要**: 首次登录后请立即修改默认密码！

## 五、使用流程

1. 访问 http://localhost:3000
2. 使用默认账户登录
3. 员工先创建联盟账号（至少3个）
4. 上传数据（表1和表2）
5. 执行数据分析
6. 查看分析结果
7. 导出数据（Excel格式）

## 六、常见问题

### Q: 数据库连接失败？
A: 检查PostgreSQL是否启动，以及`.env`中的数据库配置是否正确

### Q: 前端无法连接后端？
A: 检查后端服务是否启动，以及CORS配置是否正确

### Q: 文件上传失败？
A: 检查`uploads`目录是否有写入权限

### Q: 导出功能不工作？
A: 检查`excel`目录是否存在，以及是否有写入权限


















