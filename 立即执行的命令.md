# 立即执行的命令（按顺序）

## 当前问题
- sqlalchemy 未安装
- uvicorn 未安装

## 解决步骤

### 步骤1：确保在正确的目录和虚拟环境中

```powershell
cd "D:\Google Analysis\backend"
.\venv\Scripts\Activate.ps1
```

**验证**：提示符应该显示 `(venv) PS D:\Google Analysis\backend>`

### 步骤2：安装所有必需的依赖

```powershell
pip install fastapi uvicorn sqlalchemy pydantic pydantic-settings python-jose passlib python-multipart openpyxl python-dotenv
```

**等待安装完成**（可能需要几分钟）

### 步骤3：验证安装

```powershell
python -c "import fastapi; print('FastAPI: OK')"
python -c "import sqlalchemy; print('SQLAlchemy: OK')"
python -c "import uvicorn; print('Uvicorn: OK')"
```

如果都显示 "OK"，继续下一步。

### 步骤4：初始化数据库

```powershell
python scripts/init_db.py
```

**等待看到**：`数据库表创建完成！`

### 步骤5：初始化用户

```powershell
python scripts/init_users.py
```

**等待看到**：`用户初始化完成！`

### 步骤6：初始化联盟平台

```powershell
python scripts/init_platforms.py
```

**等待看到**：`联盟平台初始化完成！`

### 步骤7：启动服务

```powershell
uvicorn app.main:app --reload
```

**注意**：是 `--reload`（两个短横线），不是 `-reload` 或 `reload`

## 如果步骤2安装失败

如果 `pip install` 失败，可以一个一个安装：

```powershell
pip install fastapi
pip install uvicorn
pip install sqlalchemy
pip install pydantic
pip install pydantic-settings
pip install python-jose
pip install passlib
pip install python-multipart
pip install openpyxl
pip install python-dotenv
```

## 如果网络很慢

可以使用国内镜像：

```powershell
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple fastapi uvicorn sqlalchemy pydantic pydantic-settings python-jose passlib python-multipart openpyxl python-dotenv
```








