# 服务启动失败排查

## 当前状态
- ✅ 代码更新成功
- ✅ 代码检查通过
- ❌ 服务启动失败（Exit 1）

## 排查步骤

### 1. 查看启动日志
```bash
tail -n 50 ~/Google-Data-Analysis/backend/run.log
```

### 2. 检查是否有进程在运行
```bash
ps aux | grep uvicorn | grep -v grep
```

### 3. 检查端口占用
```bash
netstat -tlnp | grep 8000 || ss -tlnp | grep 8000
```

### 4. 直接运行查看详细错误（推荐）
```bash
cd ~/Google-Data-Analysis/backend
source venv/bin/activate
uvicorn app.main:app --host 0.0.0.0 --port 8000
```

### 5. 检查依赖
```bash
cd ~/Google-Data-Analysis/backend
source venv/bin/activate
pip list | grep -E "(fastapi|uvicorn|sqlalchemy|apscheduler)"
```

## 常见问题

### 问题1：端口被占用
```bash
# 查找占用端口的进程
lsof -i:8000 || netstat -tulpn | grep 8000

# 杀死占用端口的进程
kill -9 $(lsof -t -i:8000) 2>/dev/null || true
```

### 问题2：依赖缺失
```bash
cd ~/Google-Data-Analysis/backend
source venv/bin/activate
pip install -r requirements.txt
```

### 问题3：数据库连接问题
检查数据库配置和连接

### 问题4：权限问题
```bash
chmod +x ~/Google-Data-Analysis/backend/venv/bin/uvicorn
```


